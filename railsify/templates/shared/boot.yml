---
boot:
  - snippets:
    - file: Gemfile
      insert:
        - code: |
                gem 'autoprefixer-rails', '~> 6.3.5'
          where: end
      replace:
        - code: gem 'coffee-rails'
          with: "# gem 'coffee-rails'"

    - file: config/application.rb
      insert:
        - code: |2+
                config.time_zone = 'Europe/Moscow'
                config.i18n.default_locale = :ru

          where: after
          selector: |
                    class Application < Rails::Application

    - file: app/assets/javascripts/application.js
      replace:
        - code: |
                //= require jquery
          with: |
                //= require jquery2

    # Some layout defaults
    - file: app/views/layouts/application.html.erb
      insert:
        - code: |
                <%= yield :footer_scripts %>
          where: before
          selector: |
                    </body>
      replace:
        - code: <html>
          with: <html lang="<%= I18n.locale %>">
        - code: </title>
          with: ' | <%= yield :title %></title>'
